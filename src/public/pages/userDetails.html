<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- CSS only -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    <link rel="stylesheet" href="./styles/style.css">

    <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.8/css/intlTelInput.css"
  />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.8/js/intlTelInput.min.js"></script>


    <title>App CoherHouse</title>
</head>
<body>
    <div class="container d-flex justify-content-center flex-column text-center mt-5 mb-3">
        <h3>Infomación de la Cuenta</h3>
    </div>
    
    <div class="main d-flex">
        <div class="container anchoVariable mt-5">
            <div class="container d-flex justify-content-around vertical ">
                
                <div class="container ">
                    <div class="container d-flex flex-column  ">
                        <div class="container  justify-content-center ">
                            
                                <div class="mb-3">
                                <label for="username" class="form-label">Usuario (email)</label>
                                <input type="email" class="form-control" name="username" id="username" aria-describedby="nameHelp" disabled>
                                </div>
                                <div class="mb-3">
                                    <label for="nombreUsr" class="form-label">Nombre</label>
                                    <input type="text" class="form-control" name="nombreUsr" id="nombreUsr" disabled>
                                </div>
                                <div class="mb-3">
                                    <label for="ageUsr" class="form-label">Edad</label>
                                    <input type="text" class="form-control" name="ageUsr" id="ageUsr" disabled>
                                </div>
                                <div class="mb-3">
                                    <label for="dirUsr" class="form-label">Direccion</label>
                                    <input type="text" class="form-control" name="dirUsr" id="dirUsr" disabled>
                                </div>
                                <div class="mb-3">
                                    <label for="telUsr" class="form-label">Teléfono</label>
                                    <input type="text" class="form-control" name="telUsr" id="telUsr" disabled>
                                </div>
                                <div class="mb-3 text-center">
                                    <div id="image">

                                    </div>
                                </div>
                                <div class="container text-center" style="border: 1px solid black;">
                                    
                                </div>
                                <div class="botones mt-5">
                                    <div><button onclick="home()" class="btn btn-outline-primary">Volver</button></div>
                                </div>             
                            
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <footer>
        <div>
            <div class="container d-flex justify-content-center flex-column text-center mb-3 mt-5">
                <h6>Backend APP</h6>
            </div>
        </div>
    </footer>
    

    <!-- JavaScript Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script>
    <style>
   
    </style>
    <script>
       function home(){
        window.location.href = "./home";
       }

       async function getData(){
                let url = './getUsrData';
                try {
                      await fetch(url, {
                          method: 'GET'
                          })
                        .then((response) => response.json())
                        .then((result) => 
                        {
                            document.getElementById("username").value = result.user.username;
                            document.getElementById("telUsr").value = result.user.telephone;
                            document.getElementById("dirUsr").value = result.user.address;
                            document.getElementById("ageUsr").value = result.user.age;
                            document.getElementById("nombreUsr").value = result.user.firstname;

                            let divimagen = document.getElementById("image");
                            let imagen = document.createElement("img");

                            imagen.src = "http://localhost:8080/upload/"+result.user.picture;
                            imagen.classList.add("ancho150")
                            imagen.classList.add("sombra")
                            divimagen.appendChild(imagen);
                            
                          console.log(result);
                        })

/*                      idModal.value = arti._id;
                      nombre.value = arti.nombreProducto;
                      descr.value = arti.descripcionProducto;
                      codigo.value = arti.codigoProducto;
                      foto.value = arti.urlFotoProducto;
                      precio.value = arti.precioProducto;
                      stock.value = arti.stockProducto;*/
                      //admin.value = arti.admin;

                    }catch (error) {
                      console.log(error);
                  }
                }

                getData();

    </script>
</body>
</html>